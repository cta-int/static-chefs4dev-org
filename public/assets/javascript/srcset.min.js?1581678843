var Query=function(a){"use strict";var b=function(a){var b,c,d,e,f=[];if("undefined"==typeof a||null===a||""===a)return f;for(0===a.indexOf("?")&&(a=a.substring(1)),c=a.toString().split(/[&;]/),b=0;b<c.length;b++)d=c[b],e=d.split("="),f.push([e[0],e[1]]);return f},c=b(a),d=function(){var a,b,d="";for(a=0;a<c.length;a++)b=c[a],d.length>0&&(d+="&"),d+=b.join("=");return d.length>0?"?"+d:d},e=function(a){return a=decodeURIComponent(a),a=a.replace("+"," ")},f=function(a){var b,d;for(d=0;d<c.length;d++)if(b=c[d],e(a)===e(b[0]))return b[1]},g=function(a){var b,d,f=[];for(b=0;b<c.length;b++)d=c[b],e(a)===e(d[0])&&f.push(d[1]);return f},h=function(a,b){var d,f,g,h,i=[];for(d=0;d<c.length;d++)f=c[d],g=e(f[0])===e(a),h=e(f[1])===e(b),(1===arguments.length&&!g||2===arguments.length&&!g&&!h)&&i.push(f);return c=i,this},i=function(a,b,d){return 3===arguments.length&&d!==-1?(d=Math.min(d,c.length),c.splice(d,0,[a,b])):arguments.length>0&&c.push([a,b]),this},j=function(a,b,d){var f,g,j=-1;if(3===arguments.length){for(f=0;f<c.length;f++)if(g=c[f],e(g[0])===e(a)&&decodeURIComponent(g[1])===e(d)){j=f;break}h(a,d).addParam(a,b,j)}else{for(f=0;f<c.length;f++)if(g=c[f],e(g[0])===e(a)){j=f;break}h(a),i(a,b,j)}return this};return{getParamValue:f,getParamValues:g,deleteParam:h,addParam:i,replaceParam:j,toString:d}},Uri=function(a){"use strict";var b=!1,c=function(a){for(var c={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},d=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],e={name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},f=c[b?"strict":"loose"].exec(a),g={},h=14;h--;)g[d[h]]=f[h]||"";return g[e.name]={},g[d[12]].replace(e.parser,function(a,b,c){b&&(g[e.name][b]=c)}),g},d=c(a||""),e=new Query(d.query),f=function(a){return"undefined"!=typeof a&&(d.protocol=a),d.protocol},g=null,h=function(a){return"undefined"!=typeof a&&(g=a),null===g?d.source.indexOf("//")!==-1:g},i=function(a){return"undefined"!=typeof a&&(d.userInfo=a),d.userInfo},j=function(a){return"undefined"!=typeof a&&(d.host=a),d.host},k=function(a){return"undefined"!=typeof a&&(d.port=a),d.port},l=function(a){return"undefined"!=typeof a&&(d.path=a),d.path},m=function(a){return"undefined"!=typeof a&&(e=new Query(a)),e},n=function(a){return"undefined"!=typeof a&&(d.anchor=a),d.anchor},o=function(a){return f(a),this},p=function(a){return h(a),this},q=function(a){return i(a),this},r=function(a){return j(a),this},s=function(a){return k(a),this},t=function(a){return l(a),this},u=function(a){return m(a),this},v=function(a){return n(a),this},w=function(a){return m().getParamValue(a)},x=function(a){return m().getParamValues(a)},y=function(a,b){return 2===arguments.length?m().deleteParam(a,b):m().deleteParam(a),this},z=function(a,b,c){return 3===arguments.length?m().addParam(a,b,c):m().addParam(a,b),this},A=function(a,b,c){return 3===arguments.length?m().replaceParam(a,b,c):m().replaceParam(a,b),this},B=function(){var a="",b=function(a){return null!==a&&""!==a};return b(f())?(a+=f(),f().indexOf(":")!==f().length-1&&(a+=":"),a+="//"):h()&&b(j())&&(a+="//"),b(i())&&b(j())&&(a+=i(),i().indexOf("@")!==i().length-1&&(a+="@")),b(j())&&(a+=j(),b(k())&&(a+=":"+k())),b(l())?a+=l():b(j())&&(b(m().toString())||b(n()))&&(a+="/"),b(m().toString())&&(0!==m().toString().indexOf("?")&&(a+="?"),a+=m().toString()),b(n())&&(0!==n().indexOf("#")&&(a+="#"),a+=n()),a},C=function(){return new Uri(B())};return{protocol:f,hasAuthorityPrefix:h,userInfo:i,host:j,port:k,path:l,query:m,anchor:n,setProtocol:o,setHasAuthorityPrefix:p,setUserInfo:q,setHost:r,setPort:s,setPath:t,setQuery:u,setAnchor:v,getQueryParamValue:w,getQueryParamValues:x,deleteQueryParam:y,addQueryParam:z,replaceQueryParam:A,toString:B,clone:C}},jsUri=Uri;!function(a){function b(a){this.imageCandidates=[],this.srcValue=a.src,this.srcsetValue=a.srcset,this.isValid=!0,this.error="",this._parse(this.srcsetValue),this.isValid||console.error("Error: "+this.error)}function c(a){this.src=a.src,this.w=a.w||1/0,this.h=a.h||1/0,this.x=a.x||1}var d=/^[0-9]+$/;b.prototype._parse=function(){for(var a,b,d=this.srcsetValue,e=0,f=[];""!==d;){for(;" "===d.charAt(0);)d=d.slice(1);if(e=d.indexOf(" "),e!==-1){if(a=d.slice(0,e),""===a)break;d=d.slice(e+1),e=d.indexOf("w,"),e===-1?(b=d,d=""):(b=d.slice(0,e+1),d=d.slice(e+2)),f.push({url:a,descriptors:b})}else f.push({url:d,descriptors:""}),d=""}for(var g=0,h=f.length;g<h;g++){var i=f[g],j=this._parseDescriptors(i.descriptors);this._addCandidate(new c({src:i.url,x:j.x,w:j.w,h:j.h}))}this.srcValue&&this._addCandidate(new c({src:this.srcValue}))},b.prototype._addCandidate=function(a){for(var b=0;b<this.imageCandidates.length;b++){var c=this.imageCandidates[b];if(c.x==a.x&&c.w==a.w&&c.h==a.h)return}this.imageCandidates.push(a)},b.prototype._parseDescriptors=function(a){for(var b=a.trim().split(/\s/),c={},e=0;e<b.length;e++){var f=b[e];if(f.length>0){var g=f[f.length-1],h=f.substring(0,f.length-1),i=parseInt(h,10),j=parseFloat(h);h.match(d)&&"w"===g?c[g]=i:h.match(d)&&"h"==g?c[g]=i:isNaN(j)||"x"!=g?(this.error='Invalid srcset descriptor found in "'+f+'".',this.isValid=!1):c[g]=j}}return c},a.SrcsetInfo=b}(window),function(a){function b(){this.w=null,this.h=null,this.x=null}b.prototype.compute=function(){this.w=window.innerWidth||document.documentElement.clientWidth,this.h=window.innerHeight||document.documentElement.clientHeight,this.x=window.devicePixelRatio},b.prototype.setForTesting=function(a){this.w=a.w,this.h=a.h,this.x=a.x},b.prototype.getBestImage=function(a){var b=a.imageCandidates.slice(0),c=this._getBestCandidateIf(b,function(a,b){return a.w>b.w});this._removeCandidatesIf(b,function(a){return function(b){return b.w<a.w}}(this)),0===b.length&&(b=[c]);var d=this._getBestCandidateIf(b,function(a,b){return a.h>b.h});this._removeCandidatesIf(b,function(a){return function(b){return b.h<a.h}}(this)),0===b.length&&(b=[d]);var e=this._getBestCandidateIf(b,function(a,b){return a.x>b.x});this._removeCandidatesIf(b,function(a){return function(b){return b.x<a.x}}(this)),0===b.length&&(b=[e]);var f=this._getBestCandidateIf(b,function(a,b){return a.w<b.w});this._removeCandidatesIf(b,function(a,b){return a.w>f.w}),this._getBestCandidateIf(b,function(a,b){return a.h<b.h}),this._removeCandidatesIf(b,function(a,b){return a.h>f.h});var g=this._getBestCandidateIf(b,function(a,b){return a.x<b.x});return this._removeCandidatesIf(b,function(a,b){return a.x>g.x}),b[0]},b.prototype._getBestCandidateIf=function(a,b){for(var c=a[0],d=0;d<a.length;d++){var e=a[d];b(e,c)&&(c=e)}return c},b.prototype._removeCandidatesIf=function(a,b){for(var c=a.length-1;c>=0;c--){var d=a[c];b(d)&&a.splice(c,1)}return a},b.prototype.getBestImage2=function(a){for(var b=null,c=a.imageCandidates,d=0;d<c.length;d++){var e=c[d],f=b?b.x:0;if(f<=e.x&&e.x<=this.x){if(null===b){b=e;continue}this.w<=e.w&&e.w<=b.w&&(b=e)}}return b},a.ViewportInfo=b}(window),function(a){function b(){var a=new Image;return"srcset"in a}function c(){if(!b()){var a=new ViewportInfo;a.compute();for(var c=document.querySelectorAll("img"),d=0;d<c.length;d++){var e=c[d],f=e.getAttribute("srcset");if(f){var g=new SrcsetInfo({src:e.src,srcset:f}),h=a.getBestImage(g);e.src=h.src,e.width||e.height||e.style.height||e.style.width||(e.style.webkitTransform="scale("+1/h.x+")",e.style.webkitTransformOrigin="0 0")}}}}var d=setInterval(function(){"complete"===document.readyState&&(c(),clearInterval(d))},10)}(window);